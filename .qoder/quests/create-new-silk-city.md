# –î–∏–∑–∞–π–Ω: –ì–æ—Ä–æ–¥ –®—ë–ª–∫–∞ - –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥–æ—Ä–æ–¥ –¥–ª—è –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏—è —à—ë–ª–∫–∞

## –û–±–∑–æ—Ä

–ì–æ—Ä–æ–¥ –®—ë–ª–∫–∞ - —ç—Ç–æ –Ω–æ–≤–∞—è –∏–≥—Ä–æ–≤–∞—è –ª–æ–∫–∞—Ü–∏—è –≤ RELOAD –±–æ—Ç–µ, –∫–æ—Ç–æ—Ä–∞—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏–∏ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ —à—ë–ª–∫–∞. –ò–≥—Ä–æ–∫–∏ —Å–º–æ–≥—É—Ç –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ–ø—Ç–∏–º—ã –≤ —à—ë–ª–∫–æ–≤—ã–µ –ø–ª–∞–Ω—Ç–∞—Ü–∏–∏, —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ–º –∏ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤–æ–π –ø—Ä–æ–¥—É–∫—Ü–∏–µ–π. –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞—Å—à–∏—Ä—è–µ—Ç —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫—É—é —Å–∏—Å—Ç–µ–º—É –±–æ—Ç–∞, –¥–æ–±–∞–≤–ª—è—è –Ω–æ–≤—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–æ—Ö–æ–¥–∞ –∏ –∏–≥—Ä–æ–≤—É—é –º–µ—Ö–∞–Ω–∏–∫—É.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ü–µ–ª–∏
- –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–æ—Ö–æ–¥–∞ –¥–ª—è –∏–≥—Ä–æ–∫–æ–≤ —á–µ—Ä–µ–∑ –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏–µ —à—ë–ª–∫–∞
- –†–∞—Å—à–∏—Ä–∏—Ç—å —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫—É—é —ç–∫–æ—Å–∏—Å—Ç–µ–º—É –±–æ—Ç–∞
- –î–æ–±–∞–≤–∏—Ç—å –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—É—é –∏–≥—Ä–æ–≤—É—é –º–µ—Ö–∞–Ω–∏–∫—É —Å –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π —Å–µ–ø—Ç–∏–º–æ–≤

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞
```mermaid
graph TB
    subgraph "Silk City Module"
        SC[SilkCity Handler]
        SP[SilkPlantation Model]
        SI[SilkInventory Model]
        ST[SilkTransaction Model]
    end
    
    subgraph "Core System"
        Bot[Bot_new.py]
        DB[database.py]
        Player[Player Model]
        Econ[Economic System]
    end
    
    subgraph "Admin System"
        Admin[admin.py]
        Config[Silk Config]
    end
    
    Bot --> SC
    SC --> SP
    SC --> SI
    SC --> ST
    SP --> DB
    SI --> DB
    ST --> DB
    Player --> SP
    Player --> SI
    Econ --> ST
    Admin --> Config
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –º–æ–¥–µ–ª—å `Player` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ–ø—Ç–∏–º–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Ç–µ–∫—É—â–µ–π —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º–æ–π
- –°–ª–µ–¥—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—É Repository –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç asyncio –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### SilkPlantation (–®—ë–ª–∫–æ–≤–∞—è –ø–ª–∞–Ω—Ç–∞—Ü–∏—è)
```mermaid
erDiagram
    SilkPlantation {
        int id PK
        int player_id FK
        string plantation_name
        int silk_trees_count
        datetime planted_at
        datetime harvest_ready_at
        string status
        decimal investment_cost
        decimal expected_yield
    }
    
    Player {
        int id PK
        string name
        decimal coins
    }
    
    SilkInventory {
        int id PK
        int player_id FK
        string silk_type
        int quantity
        decimal quality_grade
        datetime produced_at
    }
    
    SilkTransaction {
        int id PK
        int seller_id FK
        int buyer_id FK
        string transaction_type
        decimal amount
        decimal price_per_unit
        datetime created_at
    }
    
    Player ||--o{ SilkPlantation : owns
    Player ||--o{ SilkInventory : has
    Player ||--o{ SilkTransaction : participates
```

### –ê—Ç—Ä–∏–±—É—Ç—ã –º–æ–¥–µ–ª–µ–π

#### SilkPlantation
- `id`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–ª–∞–Ω—Ç–∞—Ü–∏–∏
- `player_id`: –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ –∏–≥—Ä–æ–∫–∞-–≤–ª–∞–¥–µ–ª—å—Ü–∞
- `plantation_name`: –ù–∞–∑–≤–∞–Ω–∏–µ –ø–ª–∞–Ω—Ç–∞—Ü–∏–∏ (–∑–∞–¥–∞–µ—Ç—Å—è –∏–≥—Ä–æ–∫–æ–º)
- `silk_trees_count`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —à—ë–ª–∫–æ–≤—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤
- `planted_at`: –î–∞—Ç–∞ –ø–æ—Å–∞–¥–∫–∏
- `harvest_ready_at`: –î–∞—Ç–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —É—Ä–æ–∂–∞—è
- `status`: –°—Ç–∞—Ç—É—Å ('growing', 'ready', 'harvesting', 'completed')
- `investment_cost`: –°—Ç–æ–∏–º–æ—Å—Ç—å –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ —Å–µ–ø—Ç–∏–º–∞—Ö
- `expected_yield`: –û–∂–∏–¥–∞–µ–º—ã–π —É—Ä–æ–∂–∞–π

#### SilkInventory
- `id`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–∏—Å–∏
- `player_id`: –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ –∏–≥—Ä–æ–∫–∞
- `silk_type`: –¢–∏–ø —à—ë–ª–∫–∞ ('raw', 'refined', 'premium')
- `quantity`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –µ–¥–∏–Ω–∏—Ü
- `quality_grade`: –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ (1.0-5.0)
- `produced_at`: –î–∞—Ç–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞

#### SilkTransaction
- `id`: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `seller_id`: ID –ø—Ä–æ–¥–∞–≤—Ü–∞
- `buyer_id`: ID –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
- `transaction_type`: –¢–∏–ø –æ–ø–µ—Ä–∞—Ü–∏–∏ ('buy', 'sell', 'trade')
- `amount`: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞
- `price_per_unit`: –¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É
- `created_at`: –î–∞—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏

## –ò–≥—Ä–æ–≤–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —à—ë–ª–∫–æ–≤–æ–π –ø–ª–∞–Ω—Ç–∞—Ü–∏–∏
```mermaid
stateDiagram-v2
    [*] --> Planning : –ò–≥—Ä–æ–∫ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –ø–ª–∞–Ω—Ç–∞—Ü–∏—é
    Planning --> Investing : –ò–Ω–≤–µ—Å—Ç–∏—Ä—É–µ—Ç —Å–µ–ø—Ç–∏–º—ã
    Investing --> Growing : –î–µ—Ä–µ–≤—å—è —Ä–∞—Å—Ç—É—Ç
    Growing --> Ready : –£—Ä–æ–∂–∞–π —Å–æ–∑—Ä–µ–ª
    Ready --> Harvesting : –ò–≥—Ä–æ–∫ —Å–æ–±–∏—Ä–∞–µ—Ç —É—Ä–æ–∂–∞–π
    Harvesting --> Completed : –£—Ä–æ–∂–∞–π —Å–æ–±—Ä–∞–Ω
    Completed --> [*]
    
    note right of Growing : 24-72 —á–∞—Å–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
    note right of Ready : –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫—É
    note right of Harvesting : –ü–æ–ª—É—á–µ–Ω–∏–µ —à—ë–ª–∫–∞ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
```

### –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –º–æ–¥–µ–ª—å

#### –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏
| –£—Ä–æ–≤–µ–Ω—å | –°—Ç–æ–∏–º–æ—Å—Ç—å (—Å–µ–ø—Ç–∏–º—ã) | –î–µ—Ä–µ–≤—å—è | –í—Ä–µ–º—è —Ä–æ—Å—Ç–∞ | –û–∂–∏–¥–∞–µ–º—ã–π –¥–æ—Ö–æ–¥ |
|---------|-------------------|---------|-------------|----------------|
| Starter | 1,000 | 10 | 24 —á–∞—Å–∞ | 1,200-1,400 |
| Standard | 5,000 | 50 | 48 —á–∞—Å–æ–≤ | 6,500-7,500 |
| Premium | 15,000 | 150 | 72 —á–∞—Å–∞ | 20,000-25,000 |
| Master | 50,000 | 500 | 96 —á–∞—Å–æ–≤ | 70,000-90,000 |

#### –§–∞–∫—Ç–æ—Ä—ã, –≤–ª–∏—è—é—â–∏–µ –Ω–∞ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å
- –ö–∞—á–µ—Å—Ç–≤–æ —Å–µ–º—è–Ω (—Å–ª—É—á–∞–π–Ω—ã–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä 0.8-1.2)
- –ü–æ–≥–æ–¥–Ω—ã–µ —É—Å–ª–æ–≤–∏—è (—Å–ª—É—á–∞–π–Ω—ã–π –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä 0.9-1.1)
- –£—Ä–æ–≤–µ–Ω—å VIP –∏–≥—Ä–æ–∫–∞ (–±–æ–Ω—É—Å +5-20%)
- –û–ø—ã—Ç –∏–≥—Ä–æ–∫–∞ –≤ –≤—ã—Ä–∞—â–∏–≤–∞–Ω–∏–∏ (–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å–Ω—ã–π –±–æ–Ω—É—Å)

### –¢–æ—Ä–≥–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞

#### –¢–∏–ø—ã —à—ë–ª–∫–∞ –∏ –∏—Ö —Å—Ç–æ–∏–º–æ—Å—Ç—å
- **–°—ã—Ä–æ–π —à—ë–ª–∫**: –ë–∞–∑–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å, –ø–æ–ª—É—á–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–±–æ—Ä–∞ —É—Ä–æ–∂–∞—è
- **–†–∞—Ñ–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —à—ë–ª–∫**: +30% –∫ —Å—Ç–æ–∏–º–æ—Å—Ç–∏, —Ç—Ä–µ–±—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏
- **–ü—Ä–µ–º–∏—É–º —à—ë–ª–∫**: +60% –∫ —Å—Ç–æ–∏–º–æ—Å—Ç–∏, —Ä–µ–¥–∫–∏–π —Ç–∏–ø —Å –Ω–∏–∑–∫–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é

#### –†—ã–Ω–æ—á–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞
```mermaid
graph LR
    A[–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —à—ë–ª–∫–∞] --> C[–†—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞]
    B[–°–ø—Ä–æ—Å NPC —Ç–æ—Ä–≥–æ–≤—Ü–µ–≤] --> C
    C --> D[–ü—Ä–∏–±—ã–ª—å –∏–≥—Ä–æ–∫–æ–≤]
    D --> E[–ù–æ–≤—ã–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏]
    E --> A
```

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –º–µ–Ω—é –≥–æ—Ä–æ–¥–æ–≤

–ì–æ—Ä–æ–¥ –®—ë–ª–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –º–µ–Ω—é –≥–æ—Ä–æ–¥–æ–≤ –±–æ—Ç–∞ –∫–∞–∫ –Ω–æ–≤–∞—è –ª–æ–∫–∞—Ü–∏—è. –í–º–µ—Å—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞ inline –∫–Ω–æ–ø–æ–∫ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

#### –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```mermaid
graph TD
    A[–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é] --> B[üèôÔ∏è –ì–æ—Ä–æ–¥–∞]
    B --> C[üè∞ –ì–æ—Ä–æ–¥ –•–∞–π–¢–∞—É–Ω]
    B --> D[üßµ –ì–æ—Ä–æ–¥ –®—ë–ª–∫–∞]
    D --> E[üå≥ –ú–æ–∏ –ø–ª–∞–Ω—Ç–∞—Ü–∏–∏]
    D --> F[üè™ –®—ë–ª–∫–æ–≤—ã–π —Ä—ã–Ω–æ–∫]
    D --> G[üì¶ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å —à—ë–ª–∫–∞]
    D --> H[üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞]
    E --> I[‚ûï –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω—Ç–∞—Ü–∏—é]
    E --> J[üåæ –°–æ–±—Ä–∞—Ç—å —É—Ä–æ–∂–∞–π]
    F --> K[üí∞ –ö—É–ø–∏—Ç—å/–ü—Ä–æ–¥–∞—Ç—å]
    F --> L[üìà –¶–µ–Ω—ã –Ω–∞ —Ä—ã–Ω–∫–µ]
```

### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–æ–æ–±—â–µ–Ω–∏–π

#### –ú–µ–Ω—é –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–æ–≤
```
üèôÔ∏è –ì–æ—Ä–æ–¥–∞
–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥:

[üè∞ –ì–æ—Ä–æ–¥ –•–∞–π–¢–∞—É–Ω] [üßµ –ì–æ—Ä–æ–¥ –®—ë–ª–∫–∞]
               [üîô –í –º–µ–Ω—é]
```

#### –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –ì–æ—Ä–æ–¥–∞ –®—ë–ª–∫–∞
```
üßµ **–ì–û–†–û–î –®–Å–õ–ö–ê** üßµ

üå≥ –í–∞—à–∏ –ø–ª–∞–Ω—Ç–∞—Ü–∏–∏: 3 –∞–∫—Ç–∏–≤–Ω—ã—Ö
üì¶ –®—ë–ª–∫–æ–≤—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å: 150 –µ–¥–∏–Ω–∏—Ü
üí∞ –î–æ—Å—Ç—É–ø–Ω–æ —Å–µ–ø—Ç–∏–º–æ–≤: 25,000

[üå≥ –ú–æ–∏ –ø–ª–∞–Ω—Ç–∞—Ü–∏–∏] [üè™ –®—ë–ª–∫–æ–≤—ã–π —Ä—ã–Ω–æ–∫]
[üì¶ –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å —à—ë–ª–∫–∞] [üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞]

       [üîô –ö –≥–æ—Ä–æ–¥–∞–º] [üîô –í –º–µ–Ω—é]
```

#### –°—Ç–∞—Ç—É—Å –ø–ª–∞–Ω—Ç–∞—Ü–∏–∏
```
üå≥ **–ü–ª–∞–Ω—Ç–∞—Ü–∏—è "–ò–∑—É–º—Ä—É–¥–Ω–∞—è –¥–æ–ª–∏–Ω–∞"**

üìä –°—Ç–∞—Ç—É—Å: üå± –†–∞—Å—Ç—ë—Ç (67% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)
‚è±Ô∏è –î–æ —Å–±–æ—Ä–∞: 8 —á–∞—Å–æ–≤ 23 –º–∏–Ω—É—Ç—ã
üå≤ –î–µ—Ä–µ–≤—å–µ–≤: 50 —à—Ç.
üí∞ –ò–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ: 5,000 —Å–µ–ø—Ç–∏–º–æ–≤
üìà –û–∂–∏–¥–∞–µ–º—ã–π –¥–æ—Ö–æ–¥: 6,800-7,200 —Å–µ–ø—Ç–∏–º–æ–≤

üîÑ –ü—Ä–æ–≥—Ä–µ—Å—Å: ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë 75%

    [üåæ –°–æ–±—Ä–∞—Ç—å —É—Ä–æ–∂–∞–π] [üíß –ü–æ–ª–∏—Ç—å]
    [üîô –ö –ø–ª–∞–Ω—Ç–∞—Ü–∏—è–º] [üîô –í –º–µ–Ω—é]
```

### Callback Data —Å—Ö–µ–º–∞

#### –û—Å–Ω–æ–≤–Ω—ã–µ callback –¥–∞–Ω–Ω—ã–µ
- `city_silk` - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –ì–æ—Ä–æ–¥–∞ –®—ë–ª–∫–∞
- `silk_plantations` - –ú–æ–∏ –ø–ª–∞–Ω—Ç–∞—Ü–∏–∏
- `silk_market` - –®—ë–ª–∫–æ–≤—ã–π —Ä—ã–Ω–æ–∫
- `silk_inventory` - –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å —à—ë–ª–∫–∞
- `silk_stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `silk_create_plantation` - –°–æ–∑–¥–∞—Ç—å –ø–ª–∞–Ω—Ç–∞—Ü–∏—é
- `silk_harvest_{plantation_id}` - –°–æ–±—Ä–∞—Ç—å —É—Ä–æ–∂–∞–π —Å –ø–ª–∞–Ω—Ç–∞—Ü–∏–∏
- `silk_buy_{item_type}_{quantity}` - –ö—É–ø–∏—Ç—å —Ç–æ–≤–∞—Ä—ã
- `silk_sell_{item_type}_{quantity}` - –ü—Ä–æ–¥–∞—Ç—å —Ç–æ–≤–∞—Ä—ã
- `silk_plant_{level}` - –ü–æ—Å–∞–¥–∏—Ç—å –ø–ª–∞–Ω—Ç–∞—Ü–∏—é —É—Ä–æ–≤–Ω—è

#### –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ callback –¥–∞–Ω–Ω—ã–µ
- `cities_menu` - –í–æ–∑–≤—Ä–∞—Ç –∫ —Å–ø–∏—Å–∫—É –≥–æ—Ä–æ–¥–æ–≤
- `menu` - –í–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

### –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ–ø—Ç–∏–º—ã –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω—É—é –≤–∞–ª—é—Ç—É
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Å–∏—Å—Ç–µ–º–æ–π VIP –¥–ª—è –±–æ–Ω—É—Å–æ–≤
- –°–æ–≤–º–µ—Å—Ç–∏–º–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–º–∏ –º–µ—Ö–∞–Ω–∏–∫–∞–º–∏
- –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–æ—Ö–æ–¥–∞ –Ω–∞—Ä—è–¥—É —Å —ç–Ω–µ—Ä–≥–µ—Ç–∏–∫–∞–º–∏

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –°–ª–µ–¥—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å —Å–∏—Å—Ç–µ–º–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- –î–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ `button_handler` —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ callback –¥–∞–Ω–Ω—ã—Ö
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏—é `show_cities_menu` –∫–∞–∫ –Ω–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞
- –°–ª–µ–¥—É–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—É inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –≥–æ—Ä–æ–¥–æ–≤

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ button_handler

–í —Ñ—É–Ω–∫—Ü–∏—é `button_handler` –≤ `Bot_new.py` –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–æ–≤—ã—Ö callback –¥–∞–Ω–Ω—ã—Ö:

```python
# –î–æ–±–∞–≤–∏—Ç—å –ø–æ—Å–ª–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –≥–æ—Ä–æ–¥–æ–≤
elif data == 'city_silk':
    await show_city_silk(update, context)
elif data == 'silk_plantations':
    await show_silk_plantations(update, context)
elif data == 'silk_market':
    await show_silk_market(update, context)
elif data == 'silk_inventory':
    await show_silk_inventory(update, context)
elif data == 'silk_stats':
    await show_silk_stats(update, context)
elif data.startswith('silk_plant_'):
    level = data.split('_')[-1]
    await handle_silk_plant(update, context, level)
elif data.startswith('silk_harvest_'):
    plantation_id = int(data.split('_')[-1])
    await handle_silk_harvest(update, context, plantation_id)
```

### –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è show_cities_menu

–í —Ñ—É–Ω–∫—Ü–∏—é `show_cities_menu` –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –¥–ª—è –ì–æ—Ä–æ–¥–∞ –®—ë–ª–∫–∞:

```python
keyboard = [
    [InlineKeyboardButton("üè∞ –ì–æ—Ä–æ–¥ –•–∞–π–¢–∞—É–Ω", callback_data='city_hightown')],
    [InlineKeyboardButton("üßµ –ì–æ—Ä–æ–¥ –®—ë–ª–∫–∞", callback_data='city_silk')],
    [InlineKeyboardButton("üîô –í –º–µ–Ω—é", callback_data='menu')],
]
```

### –§—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏

–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å:

- `show_city_silk(update, context)` - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –ì–æ—Ä–æ–¥–∞ –®—ë–ª–∫–∞
- `show_silk_plantations(update, context)` - –ü–æ–∫–∞–∑ –ø–ª–∞–Ω—Ç–∞—Ü–∏–π –∏–≥—Ä–æ–∫–∞
- `show_silk_market(update, context)` - –®—ë–ª–∫–æ–≤—ã–π —Ä—ã–Ω–æ–∫
- `show_silk_inventory(update, context)` - –ò–Ω–≤–µ–Ω—Ç–∞—Ä—å —à—ë–ª–∫–∞
- `show_silk_stats(update, context)` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≥–æ—Ä–æ–¥–∞
- `handle_silk_plant(update, context, level)` - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–ª–∞–Ω—Ç–∞—Ü–∏–∏
- `handle_silk_harvest(update, context, plantation_id)` - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–±–æ—Ä–∞ —É—Ä–æ–∂–∞—è
- `handle_silk_buy(update, context, item_type, quantity)` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–∫—É–ø–∫–∏
- `handle_silk_sell(update, context, item_type, quantity)` - –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–æ–¥–∞–∂–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ —Ä–∞—Å—á—ë—Ç–æ–≤
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º–æ–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–≥—Ä–æ–≤–æ–π –º–µ—Ö–∞–Ω–∏–∫–∏

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä—ã–Ω–æ—á–Ω–æ–π –¥–∏–Ω–∞–º–∏–∫–∏

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
1. **–°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω—Ç–∞—Ü–∏–∏**: –ò–≥—Ä–æ–∫ –∏–Ω–≤–µ—Å—Ç–∏—Ä—É–µ—Ç —Å–µ–ø—Ç–∏–º—ã –∏ —Å–æ–∑–¥–∞—ë—Ç –ø–ª–∞–Ω—Ç–∞—Ü–∏—é
2. **–†–æ—Å—Ç —É—Ä–æ–∂–∞—è**: –°–∏—Å—Ç–µ–º–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤—Ä–µ–º—è —Ä–æ—Å—Ç–∞ –∏ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
3. **–°–±–æ—Ä —É—Ä–æ–∂–∞—è**: –ò–≥—Ä–æ–∫ —Å–æ–±–∏—Ä–∞–µ—Ç —É—Ä–æ–∂–∞–π –∏ –ø–æ–ª—É—á–∞–µ—Ç —à—ë–ª–∫ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
4. **–¢–æ—Ä–≥–æ–≤–ª—è**: –ò–≥—Ä–æ–∫ –ø—Ä–æ–¥–∞—ë—Ç —à—ë–ª–∫ –Ω–∞ —Ä—ã–Ω–∫–µ –∏ –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∏–±—ã–ª—å
5. **–†–µ–∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è**: –ò–≥—Ä–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∏–±—ã–ª—å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–ª–∞–Ω—Ç–∞—Ü–∏–π